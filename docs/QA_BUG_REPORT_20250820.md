# QA Bug Report - UI Testing Session

**Date:** August 20, 2025
**QA Engineer:** QA-eng (Persistent UI Bug Fix Team)
**Testing Environment:** localhost:15173 (Frontend) / localhost:18000 (Backend)

## Test Summary

Systematic UI testing was performed on the Agent Kanban Board application. Critical functionality was tested including card creation, editing, drag & drop, and navigation.

## Bugs Found

### 1. ❌ CRITICAL BUG: Drag & Drop Functionality Broken (P0)

**Status:** ACTIVE
**Priority:** P0 - Critical
**Component:** Board.tsx drag and drop handler

**Description:**
Drag and drop functionality is completely broken. When attempting to drag a card from one column to another, the system passes the ticket ID instead of the destination column ID to the API.

**Error Message:**

```
Failed to move ticket: Error: Invalid column ID: 24. Must be one of: not_started, in_progress, blocked, ready_for_qc, done
```

**Reproduction Steps:**

1. Navigate to any board with existing cards
2. Attempt to drag any card from one column to another
3. Drop the card in the destination column
4. Observe error message and failed operation

**Expected Behavior:**
Card should move to the destination column and update in the database

**Actual Behavior:**

- Error message appears
- Card returns to original position
- Console shows invalid column ID error
- The ticket ID (e.g., 24, 6) is being passed instead of column ID (e.g., "in_progress")

**Technical Details:**

- Error location: `/src/components/Board.tsx:118:29` in `handleDragEnd` function
- The drag handler is incorrectly passing `draggableId` as the column parameter
- API expects column values: `not_started`, `in_progress`, `blocked`, `ready_for_qc`, `done`

---

### 2. ⚠️ WebSocket Connection Issues (P2)

**Status:** ACTIVE
**Priority:** P2 - Medium

**Description:**
WebSocket connection experiences intermittent disconnections and reconnection attempts. "No pong received in 35 seconds" warnings appear in console.

**Console Messages:**

```
WARNING: No pong received in 35 seconds, reconnecting...
LOG: WebSocket disconnected: 1005
LOG: Scheduling reconnect attempt 1/10 in 1000ms
```

**Impact:**

- Real-time updates may be delayed
- Connection status indicator fluctuates
- Potential for missed updates during disconnection periods

---

### 3. ⚠️ Initial Proxy Configuration Issue (P1) - FIXED

**Status:** RESOLVED
**Priority:** P1 - High

**Description:**
Frontend proxy was pointing to port 8000 instead of 18000, causing API connection failures.

**Fix Applied:**
Updated `/frontend/vite.config.ts` proxy configuration from port 8000 to 18000.

---

## Successful Features Tested ✅

1. **Card Creation** - Working correctly after proxy fix
   - Modal opens properly
   - Form validation works
   - Card creates successfully
   - Card appears in correct column

2. **Card Editing** - Working correctly
   - Edit mode activates properly
   - Changes save successfully
   - UI updates immediately

3. **Board Navigation** - Working correctly
   - Dashboard loads all boards
   - Board detail view loads
   - Back navigation works

4. **Modals** - Working correctly
   - Add card modal functions properly
   - Edit modal works
   - Close buttons functional

5. **WebSocket Connection** - Partially working
   - Initial connection establishes
   - Reconnection logic works
   - Status indicator updates

## Recommendations

### Immediate Actions Required

1. **FIX DRAG & DROP BUG (P0)** - This is a core feature that's completely broken
   - Review `handleDragEnd` function in Board.tsx
   - Ensure correct column ID is passed, not ticket ID
   - Test thoroughly after fix

2. **Investigate WebSocket Stability** - Connection issues may affect real-time collaboration
   - Review ping/pong implementation
   - Check timeout configurations
   - Consider implementing more robust reconnection logic

### Testing Coverage

- ✅ Card CRUD operations
- ✅ Board navigation
- ✅ Modal functionality
- ✅ Edit functionality
- ✅ WebSocket monitoring
- ❌ Drag and drop (BROKEN)
- ⏸️ Comments functionality (not tested due to time)
- ⏸️ Delete functionality (not tested due to time)
- ⏸️ Form validation edge cases (partial testing)

## Test Environment Details

- **Frontend:** React + TypeScript + Vite
- **Backend:** Python FastAPI on port 18000
- **Database:** SQLite (agent_kanban.db)
- **WebSocket:** ws://localhost:18000/ws/connect

## Next Steps

1. Frontend developer should fix drag & drop bug immediately
2. Test engineer should create automated tests for critical paths
3. Continue monitoring WebSocket stability
4. Complete testing of remaining features (comments, delete, validation)

---
*Report generated by QA Engineer - Persistent UI Bug Fix Team*
